{% extends 'base.html.twig' %}

{% block body %}

  <div class="container-fluid" style="margin-top:3%;">
    <h1 class="text-center">Upload mp3</h1>

    <div class="row">
      <div class="col-sm-4"></div>

      <div class="col-sm-4">
        <form action="{{path('uploadMp3')}}" method="post" {{ form_enctype(form) }} novalidate>
          <div class="form-group">
            {{form_row(form.name, {'attr': {class:"form-control"}})}}
          </div>
          <div class="form-group">
            {{form_row(form.file, {'attr': {class:"form-control file"}})}}
          </div>
          <div class="form-group">
            {{form_row(form.dialogue, {'attr': {class:"form-control dialogue"}})}}
          </div>

          {{form_rest(form)}}
        </form>
      </div>

      <div class="col-sm-4"></div>
    </div>
  </div>

  <script>

    document.getElementsByClassName('file')[0].addEventListener('change',prepareUpload,false);

    function prepareUpload(event) {
      var files = event.target.files;
      var fileName = files[0].name;
      console.log(fileName);

      document.getElementsByClassName('dialogue')[0].value = fileName;
    }

  </script>


{% endblock %}
