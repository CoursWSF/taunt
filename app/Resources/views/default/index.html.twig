{% extends 'base.html.twig' %}

{% block body %}
<script>
function play(id){
     var audio = document.getElementById('audio'+ id );
     audio.play();
  }

function display(name, dialogue) {
  document.getElementById('informations').innerHTML = '<div class="focus"><h1>'+ name +'</h1><br><p>'+ dialogue +'</p></div>';
  window.history.pushState(name, name, '/'+name);
}
 </script>

{% if soundByName != null %}

  <div id="informations">
    <div class="focus">
      <h1>{{soundByName[0].name}}</h1>
      <br>
      <p>{{soundByName[0].dialogue}}</p>
      <audio autoplay="autoplay">
        <source src="{{soundByName[0].path}}" type="audio/mpeg">
      </audio>
    </div>
  </div>

{% endif %}


 <div id="informations">

 </div>

  {% for sound in sounds %}
      <input type="button" value="{{sound.name}}"  onclick="play('{{sound.id}}'); display('{{sound.name}}','{{sound.dialogue}}')">
      <audio id="{{'audio' ~ sound.id}}" src="uploads/sounds/{{sound.path}}" ></audio>
  {% endfor %}



{% endblock %}
